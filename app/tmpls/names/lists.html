<div class="row">
    

    <div class="col-sm-7">
        <a class="btn btn-sm btn-info" ui-sref="auth.names.add_entries">Add Name Entry</a>
        <div class="btn-group btn-sm">
            <a ui-sref="auth.names.list_entries({status:'all'})" class="btn btn-sm btn-default" ng-class="status == 'all' ? 'btn-primary' : ''">All Names</a>
            <a ui-sref="auth.names.list_entries({status:'published'})" class="btn btn-sm btn-default" ng-class="status == 'published' ? 'btn-primary' : ''">Published Names</a>
            <a ui-sref="auth.names.list_entries({status:'suggested'})" class="btn btn-sm btn-default" ng-class="status == 'suggested' ? 'btn-primary' : ''">Suggested Names</a>
        </div>
    </div>

    <div class="col-sm-3">
        <input ng-model="search" type="text" class="form-control input-sm" placeholder="Type a name here to quickly filter the list">
        <span class="help-block">Filter</span>
    </div>
    
    <div class="col-sm-2">
        <a class="btn btn-default btn-sm" ng-click="clearFilters()">Clear</a>
    </div>

</div>

<div class="row" ng-if="status != 'suggested'">
    <div class="col-md-12">
        <table class="table table-yuk2" id="names_table" ng-show="namesList.length">
            <thead>
                <tr>
                    <th><select-all-checkbox checkboxes="namesList"></select-all-checkbox> Name</th>
                    <th>Syllables</th>
                    <th>Geolocation</th>
                    <th ng-show="isAdmin">Status</th>
                    <th>Submitted By</th>
                    <th>Date</th>
                </tr>
            </thead>
            <tbody>
                <tr dir-paginate="entry in namesList|orderBy:sortKey:reverse|filter:search|itemsPerPage:50" total-items="namesListItems" current-page="pagination.current" ng-class="entry.isSelected ? 'bg-info' : '' ">
                    <td ng-hide="!isAdmin"><input type="checkbox" ng-model="entry.isSelected"> <a ui-sref="auth.names.edit_entries({entry:entry.name})"> <strong>{{entry.name}}</strong></a></td>
                    <td ng-show="!isAdmin"><strong>{{entry.name}}</strong></td>
                    <td>{{entry.syllables}}</td>
                    <td>{{entry.geoLocation.place}}</td>
                    <td ng-hide="!isAdmin"><a class="btn btn-xs" ng-class="entry.indexed ? 'btn-default' : 'btn-success'" ng-click="indexName(entry)">{{entry.indexed ? 'Unpublish' : 'Publish'}}</a></td>
                    <td>{{entry.submittedBy}}</td>
                    <td>{{entry.createdAt|toDateString}}</td>
                </tr>
                <tr class="text-center" ng-show="!namesList.length">
                    <td colspan="6">
                        <h1><i class="fa fa-lg fa-smile-o text-muted"></i></h1>
                        <h3 class="text-muted">Nice, there's something to do.</h3>
                        <p class="lead">Get started by adding names either in bulk or one at a time to populate the names database.</p>
                        <a class="btn btn-success btn-lg" ui-sref="auth.names.add_entries">Add Name Entries</a>
                    </td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <td colspan="7">
                        <dir-pagination-controls
                            max-size="5"
                            direction-links="true"
                            boundary-links="true" on-page-change="fetch(newPageNumber)" >
                        </dir-pagination-controls>
                    </td>
                </tr>
            </tfoot>
        </table>

        <a ng-show="isAdmin" ng-click="indexNames('add')" class="btn btn-success btn-sm">Publish Selected</a>
        <a ng-show="isAdmin" ng-click="indexNames('remove')" class="btn btn-default btn-sm">Unpublish Selected</a>
    </div>
</div>


<div class="row" ng-if="status == 'suggested'">
    <div class="col-md-12">
        <div class="well well-sm text-center" ng-show="!namesList.length">
            <h1><i class="fa fa-3x fa-smile-o text-muted"></i></h1>
            <h3 class="text-muted">Not a thing to do.</h3>
            <p class="lead">Great! It seems you've processed all suggested names. Enjoy your day!</p>
        </div>

        <table class="table table-yuk2" id="names_table" ng-show="namesList.length">
            <thead>
                <tr>
                    <th><select-all-checkbox checkboxes="namesList"></select-all-checkbox> Name</th>
                    <th>Details</th>
                    <th>Geolocation</th>
                    <th>Suggested By</th>
                    <th>Date</th>
                    <th ng-hide="!isAdmin">Date</th>
                </tr>
            </thead>
            <tbody>
                <tr dir-paginate="entry in namesList|orderBy:sortKey:reverse|filter:search|itemsPerPage:50" total-items="namesListItems" current-page="pagination.current" on-last-repeat ng-class="entry.isSelected ? 'bg-info' : '' ">
                    <td><input type="checkbox" ng-model="entry.isSelected"> <strong>{{entry.name}}</strong></td>
                    <td>{{entry.details}}</td>
                    <td>{{entry.geoLocation.place}}</td>
                    <td>{{entry.email}}</td>
                    <td>{{entry.createdAt|toDateString}}</td>
                    <td ng-hide="!isAdmin"><a class="btn btn-xs btn-danger" ng-click="delete(entry)">Delete</a></td>
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <td colspan="6">
                        <dir-pagination-controls
                            max-size="5"
                            direction-links="true"
                            boundary-links="true"  on-page-change="fetch(newPageNumber)">
                        </dir-pagination-controls>
                    </td>
                </tr>
            </tfoot>
        </table>

        <a ng-click="delete()" ng-hide="!namesList.length || !isAdmin" class="btn btn-danger btn-sm">Delete Selected</a>
</div>